<div class="chronicle-container" id="acts-container">
    <div id="gateOverlay" class="gate-overlay">
        <h2 style="font-family:'Uncial Antiqua'">Grimoire Sealed</h2>
        <p>Sign the contract to unlock the deep chronicles.</p>
    </div>

    <div id="lockedContent" class="restricted">
        <h2 style="text-align:center; font-family:'Uncial Antiqua'; font-size: 2.5rem; margin-bottom: 40px; color: var(--gold);">The Chronicle</h2>
        
        <div id="dynamic-acts-list">
            </div>
    </div>
</div>

<script type="module">
  // [Your Firebase Imports and Config stay here at the top]

  /**
   * THE MASTER ARCHIVE
   * Add as many acts as you want here. 
   * The design will automatically apply to all of them.
   */
  const actsData = [
    {
        id: 1,
        title: "Act I: The Fractured Lattice",
        preview: "In the sunless depths of the Underfall, the scent of ozone and rot is the only constant...",
        content: `Full text of Act 1 goes here. 
                  You can use multiple lines.
                  It can be 2,000 words long.`
    },
    {
        id: 2,
        title: "Act II: Hollow Sovereignty",
        preview: "The Midstack becomes a battlefield as the lattice destabilizes. Aelira and Zyraâ€™s paths collide...",
        content: `Full text of Act 2 goes here...`
    },
    {
        id: 3,
        title: "Act III: The Descent",
        preview: "The High Rises erupt into a spectacle of light and terror. As the city begins its literal fall...",
        content: `Full text of Act 3 goes here...`
    },
    // To add Act 4, just copy a block above and paste it here!
  ];

  // --- THE ARCHITECT ENGINE (Renders the Acts) ---
  const renderActs = () => {
    const listContainer = document.getElementById('dynamic-acts-list');
    listContainer.innerHTML = ''; // Clear existing

    actsData.forEach((act) => {
        const actHTML = `
            <article class="act-entry">
                <h3 style="font-family:'Uncial Antiqua'; color: var(--gold); border-bottom: 1px solid rgba(184, 146, 78, 0.3); margin-bottom: 15px;">
                    ${act.title}
                </h3>
                <p>
                    <span class="dropcap">${act.preview.charAt(0)}</span>
                    ${act.preview.substring(1)}
                </p>
                <button class="btn-access" style="margin-top:15px;" onclick="openReader(${act.id - 1})">
                    Read Full Act
                </button>
            </article>
        `;
        listContainer.innerHTML += actHTML;
    });
  };

  // --- THE READER ENGINE ---
  window.openReader = (index) => {
    const act = actsData[index];
    document.getElementById('readerTitle').innerText = act.title;
    
    // This turns your plain text into HTML paragraphs automatically
    document.getElementById('readerBody').innerHTML = act.content
        .split('\n')
        .map(p => `<p style="margin-bottom:20px;">${p.trim()}</p>`)
        .join('');

    document.getElementById('readerOverlay').style.display = 'block';
    document.body.style.overflow = 'hidden';
  };

  // Run the engine
  renderActs();

  // [Your Auth Observation Logic stays here...]
</script>
